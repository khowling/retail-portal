<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title></title>
	<meta name="description" content="">
	<meta name="author" content="">

	<meta name="viewport" content="width=device-width,initial-scale=1">

	<link rel="stylesheet" href="css/style.css"/>
  <link rel="stylesheet" href="css/jquery.jgrowl.css"/>
  <link rel="stylesheet" href="css/jQuizMe.css"/>
  
	<script src="js/libs/modernizr-2.0.6.min.js"> </script>
	<!-- jquery & plugins (addins needs to be included after jquery -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="js/libs/jquery.jgrowl_minimized.js"></script>
	<script type="text/javascript" src="js/libs/jquery.simplemodal.js"></script>
	<script type="text/javascript" src="js/jquery.countup.js"></script>
	<script type="text/javascript" src="js/libs/jQuizMe-2.2.js"></script>
	
	<style>
			ul#quizList {
					-moz-column-count: 2;
					-moz-column-gap: 20px;
					-webkit-column-count: 2; 
					-webkit-column-gap:20px; 
					height: 3in; 
			    font-family: "Lucida Grande", sans-serif;
			    font-size: 14px;
			    line-height: 16px;
			    list-style-type: none;
			    background-color: #FFFFFF;
			}
			.myboarder {
				padding: 10px;
				border-radius: 12px;
				border: 3px solid #2276BB;
				margin: 0px;
			}
			
			li {
			  display: list-item;
			}		
			
			li.quiz {
			    position: relative;
			    min-height: 48px;
			    min-width: 48px;
			    -o-break-inside: avoid;         /* multicolumn */
			    -webkit-break-inside: avoid;    /* multicolumn */
			    -moz-break-inside: avoid;       /* multicolumn */
			    break-inside: avoid;            /* multicolumn */
			    padding: 4px 4px 4px 45px;  /* 35px is the left padding for the pic */
			    margin-bottom: 8px;
			    border-radius: 4px;
			    border-bottom: 1px solid #ececec;
			    font-size: 9pt;
			}
			li:hover {
			  background: #888;
			}
			
			img.quizImage {
				position: absolute;
				top: 0px;
				left: 0px;
				width : 38px;
				border: none;
				margin-top: 2px;
				margin-bottom: 2px;
				margin-left: 2px;
				border-radius: 4px;
				text-overflow: ellipsis;
			}

			li.quiz a {
				color: #2276BB;
				text-decoration: none;
			}
			li.quiz a.quizName {
				font-weight: bold;
				margin-right: 0.5em;
				text-overflow: ellipsis;
			}
			
			li.quiz a.quizTime {
				font-size: 11px;
				color: #999;
				line-height: 16px;
				text-overflow: ellipsis;
			}
	</style>

	<script>
		var mypoints = 0;
		var lasteventprocessed = 0;
		

		function launchquiz () {
			var quiz = {
				"multiList":[
					{ 
						ques: "Let 2x = 10. <br/>What is x?",
						ans: 5,
						ansSel: [ 10, 20, 0 ],
						retry: 2 	// The question can only be tried twice. Otherwise the user's answer is wrong.
					},
					{ 
						ques: "What is the capital of Canada?", 
						ans: "Ottawa, Ontario",
						ansInfo: "<a href='http://en.wikipedia.org/wiki/Ottawa'>The City of Ottawa</a> is where the capital of Canada.",
						ansSel: [ "Hanoi", "Washington, D.C." ],
						ansSelInfo: [
							"Hanoi is the capital of Vietnam", 
							"Washington, D.C. is the capital of the USA"
						]
					}
				]
			}; 
		 $("#quiz").jQuizMe( quiz );
		 $('#basic-modal-content').modal();
			
		 return false;
		};
		
		
				
				
		function poll(){
				console.log("creating longpoll request");
				$.ajax({ 
					url: "/longpoll/" + lasteventprocessed, 
					success: function(data){
							lasteventprocessed = data.timestamp;
							
							$('#quiz-template').clone().removeAttr("style").removeAttr("id").appendTo("#quizList").find(".quizName").text(data.name).end().find(".quizHtml").text(data.desc);

							$.jGrowl("<p>New " + data.type + " for you<\p>" + data.name);
							jQuery(function($) {
									$('.timer').countTo({
											from: mypoints,
											to: mypoints + data.points,
											speed: 1000,
											refreshInterval: 10,
											onComplete: function(value) {
													console.debug(this);
											}
									});
							});
							mypoints += data.points;
						}, 
					error: function(XMLHttpRequest, textStatus, errorThrown){
							$.jGrowl("error: " + textStatus + " (" + errorThrown + ")");
						}, 
					dataType: "json", 
					complete: poll, 
					timeout: 60000 });
			}
	</script>
	
	
</head>
<body>
	<style>
		#basic-modal-content {display:none;}
		#login-content {display:none;}
	
		/* Overlay */
		#simplemodal-overlay {background-color:#000; cursor:wait;}
		
		/* Container */
		#simplemodal-container {height:420px; width:600px; color:#bbb; background-color:#333; border:4px solid #444; padding:12px;}
		#simplemodal-container .simplemodal-data {padding:8px;}
		#simplemodal-container code {background:#141414; border-left:3px solid #65B43D; color:#bbb; display:block; font-size:12px; margin-bottom:12px; padding:4px 6px 6px;}
		#simplemodal-container a {color:#ddd;}
		#simplemodal-container a.modalCloseImg {background:url(image/lightbox/x.png) no-repeat; width:25px; height:29px; display:inline; z-index:3200; position:absolute; top:-15px; right:-16px; cursor:pointer;}
		#simplemodal-container h3 {color:#84b8d9;}


		#login-content {
			  font-size: 14px;
				font-weight: bold;
				margin: 0;
				text-shadow: 0 -1px 0 #050505;
    }
		#login-content label {
				float: left;
				line-height: 14px;
				margin-top: -4px;
				padding: 8px;
				width: 70px;
		}
		#login-content input.text-input {
				background: none repeat scroll 0 0 #FFFFFF;
				border: 1px solid transparent;
				border-radius: 4px 4px 4px 4px;
				color: #555555;
				float: right;
				font-size: 13px;
				padding: 8px;
				width: 200px;
		}
		#login-content input.button {
				background-color: #459300;
				border: 1px solid transparent;
				border-radius: 4px 4px 4px 4px;
				color: #FFFFFF;
				cursor: pointer;
				float: right;
				font-size: 14px;
				font-weight: bold;
				letter-spacing: 1px;
				padding: 6px 10px;
				text-shadow: 0 -1px 0 #050505;
		}
	</style>
	
	
	<div id="login-content">
		<script>
			var loginbox;
			$(document).ready (function(){
					loginbox = $('#login-content').modal( { close : false});
					return false;
			});
					
			$("#logmein").submit(function(event) {
				/* stop form from submitting normally */
				event.preventDefault(); 
						
				/* get some values from elements on the page: */
				var $form = $( this ),
						un = $form.find( 'input[name="username"]' ).val(),
						url = $form.attr( 'action' );
		
				/* Send the data using post and put the results in a div */
				$.post( url, { username: un },
					function( data ) {
							alert ("Welcome " + data.username);
							$.modal.close();
							poll();
					});

			});

		</script>
		<form id="logmein"  action="/login">	
					<h3>Please login to our portal</h3>
					<p>for this demo, no authentication is in place, just use a name to identify yourself this time, and for future access</p>
					</p>
					<p><span id="logerrors"></span></p>
					<p>
						<label>Username</label>
						<input type="text" class="text-input" name="username" value="">
					</p>
					<br style="clear: both;">
					<p>
						<label>Password</label>
						<input type="password" class="text-input" name="password">
					</p>
					<br style="clear: both;">
					<p>
						<input type="submit" value="Sign In" class="button">
					</p>
					
			</form>
	</div>
			
	<!-- modal content -->
	<div id="basic-modal-content">
		<h3>Basic Modal Dialog</h3>
		<p>For this demo, SimpleModal is using this "hidden" data for its content. You can also populate the modal dialog with an AJAX response, standard HTML or DOM element(s).</p>
		
		<div id="quizArea">
			<div id="quiz"></div>
		</div>
		
		<p><a href='http://www.ericmmartin.com/projects/simplemodal/'>More details...</a></p>
	</div>

	<!-- preload the images -->
	<div style='display:none'>
		<img src='image/lightbox/x.png' alt='' />
	</div>
		
	

	<div id="header-container">
		<header class="wrapper clearfix">
			<h1 id="title">making learning more engaging</h1>
			<nav>
				<ul>
					<li><a href="#">how to use</a></li>
					<li><a href="#">log issue</a></li>
					<li><a href="#">new feature</a></li>
				</ul>
			</nav>
		</header>
	</div>
	<div id="main-container">
		<div id="main" class="wrapper clearfix">
			
			<article>
			
				<header id="quiz">
				</header>
				
				<section>
					<div style="overflow: auto;	width: 100%; margin-bottom : 10px;">
						<div style="float : left; width : 65%;"><spam style="font-weight:bold;">My Quiz</spam> quizzes appear when something important occures, for example, a new product launches, you visit a store, your manager thinks you need to learn a new skill, the good thing, you get points for just getting the quiz</div>
						<div class="myboarder" style="float : right; width : 30%;">My Score <div style="font-weight:bold; float: right;" class="timer"></div></div>
					</div>
					
					<div id="quiz-container">

          	<ul id="quizList" class="myboarder">
          		<div id="Logo">double-click to take off-line</div>
          		
							<li id="quiz-template" style="display : none;" class="quiz">
								<img class="quizImage" src="/image/quiz_icon.gif"/>
								<a  class="quizName" href="#"></a> 
								<br/>
								<span class="quizHtml"></span>
								<br/>
								<a class="quizTime" href="#" target="_blank"> attempts 0 | frist attempt 0%</a>
							</li>
          	
		        </ul>
		     </div>
		    </section>
				<section>
					<h2>article section h2</h2>
					<p> pharetra.</p>
				</section>
				
				<footer>
					<h3>article footer h3</h3>
					<p>tempor</p>
				</footer>
			</article>
			
			<aside>
				<h3>aside</h3>
				<p>Gamification is the use of game design techniques and mechanics to solve problems and engage audiences. Typically gamification applies to non-game applications and processes, in order to encourage people to adopt them.</p>
			</aside>
			
		</div> <!-- #main -->
	</div> <!-- #main-container -->

	<div id="footer-container">
		<footer class="wrapper">
			<h3>footer</h3>
		</footer>
	</div>

</body>
</html>
